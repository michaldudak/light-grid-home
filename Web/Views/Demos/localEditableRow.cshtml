<script>
	function localEditableRowController($scope, sampleModel, lgLocalDataProviderFactory) {
		$scope.dataProvider = lgLocalDataProviderFactory.create(sampleModel);
		$scope.sampleModel = sampleModel;
	}
</script>

<h2>Editable row with local data provider</h2>

<div ng-controller="localEditableRowController" ng-non-bindable>
	<table lg-grid class="table table-striped" model="dataProvider.getGridModel()">
		<thead>
			<tr>
				<th>Make</th>
				<th>Model</th>
				<th>Engine</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr lg-row>
				<td width="28%">
					<div lg-view="default">{{ row.data.make }}</div>
					<div lg-view="edit">
						<input ng-model="row.viewModel.make" class="form-control input-sm" />
					</div>
				</td>

				<td width="28%">
					<div lg-view="default">{{ row.data.model }}</div>
					<div lg-view="edit">
						<input ng-model="row.viewModel.model" class="form-control input-sm" />
					</div>
				</td>

				<td width="28%">
					<div lg-view="default">{{ row.data.engine }}</div>
					<div lg-view="edit">
						<input ng-model="row.viewModel.engine" class="form-control input-sm" />
					</div>
				</td>

				<td class="controls">
					<div lg-view="default">
						<button class="btn btn-default btn-sm" lg-switch-view="edit" title="Edit"><i class="fa fa-fw fa-pencil-square-o"></i></button>
					</div>
					<div lg-view="edit" class="btn-group">
						<button class="btn btn-primary btn-sm" lg-persist-data data-provider="dataProvider" title="Save"><i class="fa fa-fw fa-check"></i></button>
						<button class="btn btn-warning btn-sm" lg-switch-view="default" title="Cancel"><i class="fa fa-fw fa-times"></i></button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>

	<h3>Underlying model</h3>
	<pre>{{sampleModel | json }}</pre>
</div>

<source-display></source-display>
